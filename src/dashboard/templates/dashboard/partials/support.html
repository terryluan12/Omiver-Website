{% load static %}

<div id="info-block">
    <span class="sub-info-blocks">
        <div class="description-info-block">
            <h4>Support</h4>
            <p>Here you can contact our support team, get assistance, and resolve your questions</p>
        </div>
        <img class="cartoon" src="{% static 'dashboard/support/cartoon.svg' %}" />
    </span>
    <span class="sub-info-blocks">
        <div class="ticket-info-block">
            <img src="{% static 'dashboard/support/last_ticket.svg' %}" />
            <span>
            <h4>Last Ticket</h4>
            <p>Aug 05, 2025</p>
            </span>
        </div>
        <div class="ticket-info-block">
            <img src="{% static 'dashboard/support/current_ticket.svg' %}" />
            <span>
            <h4>Current Ticket</h4>
            <p>Sep 05, 2025</p>
            </span>
        </div>
    </span>
</div>

<div class="ticket-block">
<div id="tickets-list">
    {% for ticket in tickets %}
    <div class="ticket-preview" hx-get="{% url 'ticket_detail_partial' ticket.pk %}" hx-target="#ticket-detail" hx-swapp="innerHTML">
        <h5 class="ticket-title">{{ ticket.title }}</h5>
        <p class="ticket-email">{{ ticket.email }}</p>
        <p class="ticket-body-preview">{{ ticket.snippet }}</p>
    </div>
    {% endfor %}
</div>
<div id="ticket-detail">
    <div id="ticket-detail-placeholder">
    <p>Select a ticket to read</p>
    </div>
</div>
</div>

<div id="ticket-modal">
  <div id="ticket-modal-body">
    <span id="ticket-close-modal-btn">&times;</span>
    <div id="ticket-modal-content">
    </div>
  </div>
</div>